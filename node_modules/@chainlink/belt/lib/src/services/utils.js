"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const debug_1 = tslib_1.__importDefault(require("debug"));
const fs_1 = require("fs");
const shelljs_1 = require("shelljs");
/**
 * Get contract versions and their directories
 */
function getContractDirs(conf) {
    const contractDirs = shelljs_1.ls(conf.contractsDir);
    return contractDirs.map(d => ({
        dir: d,
        version: conf.compilerSettings.versions[d],
    }));
}
exports.getContractDirs = getContractDirs;
/**
 * Get artifact verions and their directories
 */
function getArtifactDirs(conf) {
    const artifactDirs = shelljs_1.ls(conf.artifactsDir);
    return artifactDirs.map(d => ({
        dir: d,
        version: conf.compilerSettings.versions[d],
    }));
}
exports.getArtifactDirs = getArtifactDirs;
/**
 * Create a logger specifically for debugging. The root level namespace is based on the package name.
 *
 * @see https://www.npmjs.com/package/debug
 * @param fileName The filename that the debug logger is being used in for namespacing purposes.
 */
function debug(fileName) {
    return debug_1.default('belt').extend(fileName);
}
exports.debug = debug;
/**
 * Load a json file at the specified path.
 *
 * @param path The file path relative to the cwd to read in the json file from.
 */
function getJsonFile(path) {
    return JSON.parse(fs_1.readFileSync(path, 'utf8'));
}
exports.getJsonFile = getJsonFile;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2VydmljZXMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMERBQXFCO0FBQ3JCLDJCQUFpQztBQUNqQyxxQ0FBNEI7QUFHNUI7O0dBRUc7QUFDSCxTQUFnQixlQUFlLENBQUMsSUFBZ0I7SUFDOUMsTUFBTSxZQUFZLEdBQUcsWUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtJQUUxQyxPQUFPLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzVCLEdBQUcsRUFBRSxDQUFDO1FBQ04sT0FBTyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0tBQzNDLENBQUMsQ0FBQyxDQUFBO0FBQ0wsQ0FBQztBQVBELDBDQU9DO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQixlQUFlLENBQUMsSUFBZ0I7SUFDOUMsTUFBTSxZQUFZLEdBQUcsWUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtJQUUxQyxPQUFPLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzVCLEdBQUcsRUFBRSxDQUFDO1FBQ04sT0FBTyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0tBQzNDLENBQUMsQ0FBQyxDQUFBO0FBQ0wsQ0FBQztBQVBELDBDQU9DO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFnQixLQUFLLENBQUMsUUFBZ0I7SUFDcEMsT0FBTyxlQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ25DLENBQUM7QUFGRCxzQkFFQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFnQixXQUFXLENBQUMsSUFBWTtJQUN0QyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQTtBQUMvQyxDQUFDO0FBRkQsa0NBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZCBmcm9tICdkZWJ1ZydcbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJ1xuaW1wb3J0IHsgbHMgfSBmcm9tICdzaGVsbGpzJ1xuaW1wb3J0ICogYXMgY29uZmlnIGZyb20gJy4vY29uZmlnJ1xuXG4vKipcbiAqIEdldCBjb250cmFjdCB2ZXJzaW9ucyBhbmQgdGhlaXIgZGlyZWN0b3JpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRyYWN0RGlycyhjb25mOiBjb25maWcuQXBwKSB7XG4gIGNvbnN0IGNvbnRyYWN0RGlycyA9IGxzKGNvbmYuY29udHJhY3RzRGlyKVxuXG4gIHJldHVybiBjb250cmFjdERpcnMubWFwKGQgPT4gKHtcbiAgICBkaXI6IGQsXG4gICAgdmVyc2lvbjogY29uZi5jb21waWxlclNldHRpbmdzLnZlcnNpb25zW2RdLFxuICB9KSlcbn1cblxuLyoqXG4gKiBHZXQgYXJ0aWZhY3QgdmVyaW9ucyBhbmQgdGhlaXIgZGlyZWN0b3JpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFydGlmYWN0RGlycyhjb25mOiBjb25maWcuQXBwKSB7XG4gIGNvbnN0IGFydGlmYWN0RGlycyA9IGxzKGNvbmYuYXJ0aWZhY3RzRGlyKVxuXG4gIHJldHVybiBhcnRpZmFjdERpcnMubWFwKGQgPT4gKHtcbiAgICBkaXI6IGQsXG4gICAgdmVyc2lvbjogY29uZi5jb21waWxlclNldHRpbmdzLnZlcnNpb25zW2RdLFxuICB9KSlcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBsb2dnZXIgc3BlY2lmaWNhbGx5IGZvciBkZWJ1Z2dpbmcuIFRoZSByb290IGxldmVsIG5hbWVzcGFjZSBpcyBiYXNlZCBvbiB0aGUgcGFja2FnZSBuYW1lLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvZGVidWdcbiAqIEBwYXJhbSBmaWxlTmFtZSBUaGUgZmlsZW5hbWUgdGhhdCB0aGUgZGVidWcgbG9nZ2VyIGlzIGJlaW5nIHVzZWQgaW4gZm9yIG5hbWVzcGFjaW5nIHB1cnBvc2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVidWcoZmlsZU5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZCgnYmVsdCcpLmV4dGVuZChmaWxlTmFtZSlcbn1cblxuLyoqXG4gKiBMb2FkIGEganNvbiBmaWxlIGF0IHRoZSBzcGVjaWZpZWQgcGF0aC5cbiAqXG4gKiBAcGFyYW0gcGF0aCBUaGUgZmlsZSBwYXRoIHJlbGF0aXZlIHRvIHRoZSBjd2QgdG8gcmVhZCBpbiB0aGUganNvbiBmaWxlIGZyb20uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRKc29uRmlsZShwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKHBhdGgsICd1dGY4JykpXG59XG4iXX0=