"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const path_1 = require("path");
const shelljs_1 = require("shelljs");
const compile_1 = tslib_1.__importDefault(require("../../../src/commands/compile"));
jest.setTimeout(10000);
const TEST_PATH = 'test/functional/solc/';
const TEST_FS_PATH = path_1.join(TEST_PATH, 'testfs');
const FIXTURES_PATH = path_1.join(TEST_PATH, 'fixtures');
describe('compileAll', () => {
    beforeEach(() => {
        shelljs_1.rm('-r', TEST_FS_PATH);
    });
    it('should produce a solc artifact produced by sol-compiler', async () => {
        await compile_1.default.run([
            `--config=${path_1.join(FIXTURES_PATH, 'test.config.json')}`,
            'solc',
        ]);
        expect([...shelljs_1.ls('-R', TEST_FS_PATH)]).toMatchSnapshot();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29sYy50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdGVzdC9mdW5jdGlvbmFsL3NvbGMvc29sYy50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLCtCQUEyQjtBQUMzQixxQ0FBZ0M7QUFDaEMsb0ZBQW1EO0FBRW5ELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDdEIsTUFBTSxTQUFTLEdBQUcsdUJBQXVCLENBQUE7QUFDekMsTUFBTSxZQUFZLEdBQUcsV0FBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQTtBQUM5QyxNQUFNLGFBQWEsR0FBRyxXQUFJLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFBO0FBRWpELFFBQVEsQ0FBQyxZQUFZLEVBQUUsR0FBRyxFQUFFO0lBQzFCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxZQUFFLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFBO0lBQ3hCLENBQUMsQ0FBQyxDQUFBO0lBRUYsRUFBRSxDQUFDLHlEQUF5RCxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ3ZFLE1BQU0saUJBQU8sQ0FBQyxHQUFHLENBQUM7WUFDaEIsWUFBWSxXQUFJLENBQUMsYUFBYSxFQUFFLGtCQUFrQixDQUFDLEVBQUU7WUFDckQsTUFBTTtTQUNQLENBQUMsQ0FBQTtRQUVGLE1BQU0sQ0FBQyxDQUFDLEdBQUcsWUFBRSxDQUFDLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxFQUFFLENBQUE7SUFDdkQsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJ1xuaW1wb3J0IHsgbHMsIHJtIH0gZnJvbSAnc2hlbGxqcydcbmltcG9ydCBjb21waWxlIGZyb20gJy4uLy4uLy4uL3NyYy9jb21tYW5kcy9jb21waWxlJ1xuXG5qZXN0LnNldFRpbWVvdXQoMTAwMDApXG5jb25zdCBURVNUX1BBVEggPSAndGVzdC9mdW5jdGlvbmFsL3NvbGMvJ1xuY29uc3QgVEVTVF9GU19QQVRIID0gam9pbihURVNUX1BBVEgsICd0ZXN0ZnMnKVxuY29uc3QgRklYVFVSRVNfUEFUSCA9IGpvaW4oVEVTVF9QQVRILCAnZml4dHVyZXMnKVxuXG5kZXNjcmliZSgnY29tcGlsZUFsbCcsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgcm0oJy1yJywgVEVTVF9GU19QQVRIKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcHJvZHVjZSBhIHNvbGMgYXJ0aWZhY3QgcHJvZHVjZWQgYnkgc29sLWNvbXBpbGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGNvbXBpbGUucnVuKFtcbiAgICAgIGAtLWNvbmZpZz0ke2pvaW4oRklYVFVSRVNfUEFUSCwgJ3Rlc3QuY29uZmlnLmpzb24nKX1gLFxuICAgICAgJ3NvbGMnLFxuICAgIF0pXG5cbiAgICBleHBlY3QoWy4uLmxzKCctUicsIFRFU1RfRlNfUEFUSCldKS50b01hdGNoU25hcHNob3QoKVxuICB9KVxufSlcbiJdfQ==